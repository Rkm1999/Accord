name = "chat-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# R2 bucket binding
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "chat-files"

# Durable Object binding
[[durable_objects.bindings]]
name = "CHAT_ROOM"
class_name = "ChatRoom"

# D1 database binding
# Create database with: npx wrangler d1 create chat-history
# Copy the database_id from output and update below
[[d1_databases]]
binding = "DB"
database_name = "chat-history"
database_id = "YOUR_DATABASE_ID_HERE"

# Migrations for Durable Object
[[migrations]]
tag = "v1"
new_sqlite_classes = ["ChatRoom"]

[assets]
directory = "public"
binding = "ASSETS"
